// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var $irc, closeIrc, detachIrc, openIrc;
    $("nav.site a").each(function(i, e) {
      if ($(e).text() === $("body").attr("data-page")) {
        return $(e).attr("data-current", true);
      }
    });
    $irc = $(".irc");
    $("body").removeClass("noirc");
    $("iframe", $irc).width($(window).width() - 15);
    $(window).on('resize', function() {
      return $("iframe", $irc).width($(window).width() - 15);
    });
    openIrc = function() {
      $("body").addClass("ircopen");
      $("iframe", $irc).show();
      $(".open", $irc).hide();
      return $(".close", $irc).show();
    };
    closeIrc = function() {
      $("body").removeClass("ircopen");
      $("iframe", $irc).hide();
      $(".close", $irc).hide();
      return $(".open", $irc).show();
    };
    detachIrc = function() {
      $("body").removeClass("ircopen");
      $("body").addClass("noirc");
      $irc.remove();
      return true;
    };
    $(".open", $irc).click(openIrc);
    $(".close", $irc).click(closeIrc);
    $(".detach", $irc).click(detachIrc);
    return $("nav.social .irc-open").click(function() {
      if ($("body").hasClass("ircopen")) {
        return closeIrc();
      } else {
        return openIrc();
      }
    });
  });

}).call(this);
